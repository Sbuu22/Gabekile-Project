<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gabekile Projects — Construction & Engineering</title>
  <meta name="description"
    content="Gabekile Projects: general building, civil, electrical, mechanical engineering and project management. Proudly black-owned since 2018." />
  <meta property="og:title" content="Gabekile Projects — Construction & Engineering" />
  <meta property="og:description" content="High-quality construction, civil, and project management services." />
  <meta property="og:image" content="images/og-preview.jpg" />
  <meta property="og:type" content="website" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLMDJzL3m3YI1QcHzQ64V6K93K9n8xV0kG8N7sQ/wN6L/W/W5q+v/nF7G/I8w=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />


  <link rel="icon" type="image/png" href="logo/logo.png" sizes="32x32">

  <link rel="shortcut icon" href="logo/logo.png">



  <style>
    :root {
      --brand-yellow: #ffb300;
      --brand-dark: #0f1720;
      --brand-accent: #ff7a00;
      --text-color: #1e1e1e;
      --muted: #6b7280;
      --bg-light: #f4f4f9;
      --card-bg: #ffffff;
      --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      --radius: 8px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    .fa-brands {
      font-family: "Font Awesome 6 Brands" !important;
      font-weight: 400 !important;
    }

    body {
      font-family: 'Arial', sans-serif;
      line-height: 1.6;
      color: var(--text-color);
      background-color: var(--bg-light);
      background-image: linear-gradient(45deg,
          rgba(0, 0, 0, 0.01) 25%,
          transparent 25%,
          transparent 75%,
          rgba(0, 0, 0, 0.01) 75%,
          rgba(0, 0, 0, 0.01));
      background-size: 15px 15px;
    }

    .card,
    .service-card,
    .timeline-content,
    .affiliation-section {
      background-color: var(--card-bg);
      background-image: none;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    section {
      padding: 60px 0;
    }

    .section-title {
      text-align: center;
      margin-bottom: 10px;
      font-size: 2.2em;
      color: var(--brand-dark);
    }

    .section-intro {
      text-align: center;
      max-width: 700px;
      margin: 0 auto 40px;
      color: var(--muted);
    }

    .card {
      background: var(--card-bg);
      padding: 25px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }

    .mt-12 {
      margin-top: 12px;
    }

    .mt-14 {
      margin-top: 14px;
    }

    .blockquote-highlight {
      margin: 8px 0 0 0;
      padding: 12px;
      border-left: 4px solid var(--brand-yellow);
      background: #fff8e6;
      color: var(--text-color);
    }

    .fade-in {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    .fade-in.visible {
      opacity: 1;
      transform: translateY(0);
    }

    header {
      background-color: var(--brand-dark);
      color: white;
      padding-top: 20px;
      transition: all 0.3s ease;
    }

    .topbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 0;
    }

    /* Class applied by JavaScript when scrolled */
    header.scrolled {
      padding-top: 5px;
      padding-bottom: 5px;
      background-color: var(--brand-dark);
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    }

    header.scrolled .brand-title {
      font-size: 16px;
    }

    header.scrolled .brand-tagline {
      display: none;
    }

    header.scrolled .logo {
      width: 30px;
      height: 30px;
      font-size: 18px;
    }

    header.scrolled .topbar {
      padding: 5px 0;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo {
      width: 40px;
      height: 40px;
      background-color: var(--brand-yellow);
      color: var(--brand-dark);
      font-weight: 800;
      font-size: 24px;
      border-radius: var(--radius);
      display: flex;
      justify-content: center;
      align-items: center;
      text-decoration: none;
    }

    .brand-title {
      font-weight: 800;
      font-size: 18px;
    }

    .brand-tagline {
      color: rgba(255, 255, 255, 0.8);
      font-size: 13px;
    }

    #navbar ul {
      list-style: none;
      display: flex;
      gap: 20px;
    }

    #navbar a {
      color: white;
      text-decoration: none;
      padding: 5px 0;
      transition: color 0.3s;
    }

    #navbar a:hover {
      color: var(--brand-yellow);
    }

    .menu-toggle {
      display: none;
      background: none;
      border: none;
      color: white;
      font-size: 24px;
      cursor: pointer;
    }

    .hero {
      display: grid;
      grid-template-columns: 3fr 1fr;
      gap: 40px;
      padding: 60px 0 80px;
    }

    .hero h1 {
      font-size: 3em;
      margin-bottom: 15px;
      line-height: 1.1;
      color: rgb(78, 78, 78);
    }

    .hero .lead {
      max-width: 600px;
      color: rgba(240, 236, 236, 0.8);
      margin-bottom: 25px;
    }

    .cta {
      display: flex;
      gap: 15px;
    }

    .btn {
      padding: 12px 25px;
      border-radius: 4px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s ease-in-out;
      text-decoration: none;
      border: 2px solid transparent;
      background-color: var(--brand-yellow);
      color: var(--brand-dark);
    }

    .btn:hover {
      background-color: #f7ca03;
      transform: translateY(-2px);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    }

    .btn.outline {
      background: transparent;
      border-color: var(--brand-yellow);
      color: var(--brand-yellow);
    }

    .btn.outline:hover {
      background-color: rgba(255, 215, 0, 0.1);
      transform: translateY(-2px);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      color: var(--brand-yellow);
      border-color: var(--brand-yellow);
    }

    .hero-fact-row {
      margin-top: 18px;
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .hero-fact-card {
      display: flex;
      gap: 12px;
      align-items: center;
      max-width: 520px;
      padding: 15px;
    }

    .hero-fact-icon {
      width: 56px;
      height: 56px;
      border-radius: var(--radius);
      background: linear-gradient(135deg, var(--brand-yellow), var(--brand-accent));
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      color: var(--brand-dark);
    }

    .hero-fact-title {
      color: var(--muted);
    }

    .hero-fact-text {
      color: var(--muted);
    }

    .hero-card-aside {
      background-color: var(--card-bg);
      color: var(--brand-dark);
      padding: 20px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }

    .hero-card-desc {
      margin: 6px 0 12px 0;
      color: var(--muted);
    }

    .hero-card-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .hero-card-item {
      display: flex;
      justify-content: space-between;
    }

    .facts-bar {
      background-color: var(--brand-dark);
      padding: 30px 0;
      margin-top: -60px;
    }

    .facts-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 30px;
      text-align: center;
    }

    .fact-number {
      color: var(--brand-yellow);
      font-size: 2.5em;
      font-weight: 800;
      line-height: 1;
    }

    .fact-label {
      color: rgba(255, 255, 255, 0.7);
      font-weight: 600;
      margin-top: 5px;
    }

    #about {
      background-color: white;
    }

    .about-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
    }

    .services-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 25px;
    }

    .service-card {
      background: var(--card-bg);
      padding: 30px;
      border-radius: var(--radius);
      text-align: center;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
      transition: all 0.3s ease-in-out;
    }

    .service-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
    }

    .service-card i {
      font-size: 3em;
      color: var(--brand-yellow);
      margin-bottom: 15px;
      transition: color 0.3s;
    }

    .service-card:hover i {
      color: var(--brand-dark);
      background-color: var(--brand-yellow);
      padding: 5px;
      border-radius: 50%;
    }

    .service-card h3 {
      color: var(--brand-dark);
      margin-bottom: 10px;
    }

    .projects-section {
      background: white;
    }

    .projects-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 30px;
    }

    .project-card {
      position: relative;
      overflow: hidden;
      border-radius: var(--radius);
      cursor: pointer;
      box-shadow: var(--shadow);
      transition: box-shadow 0.3s;
    }

    .project-card img {
      width: 100%;
      height: 250px;
      object-fit: cover;
      display: block;
      transition: transform 0.5s ease, filter 0.5s ease;
    }

    .project-card:hover img {
      transform: scale(1.05);
      filter: brightness(1.1);
    }

    .project-card:hover {
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
    }

    .project-overlay {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(to top, rgba(30, 30, 30, 0.6) 0%, rgba(30, 30, 30, 0.3) 50%, transparent 100%);
      color: white;
      padding: 15px;
      transition: background 0.3s ease, transform 0.3s ease;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      min-height: 100%;
      padding-bottom: 20px;
    }

    .project-card:hover .project-overlay {
      background: linear-gradient(to top, rgba(30, 30, 30, 0.7) 0%, rgba(30, 30, 30, 0.4) 50%, transparent 100%);
    }

    .project-overlay h3 {
      margin-bottom: 0;
      font-size: 1.4em;
      color: white;
    }

    .project-filter-buttons {
      margin-bottom: 25px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .projects-list.grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }

    .projects-list .project {
      border: 1px solid var(--bg-light);
      transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
      overflow: hidden;
    }

    .projects-list .project:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
      border-color: var(--brand-yellow);
    }


    .projects-list .project img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      transition: transform 0.3s ease;
    }

    .projects-list .project:hover img {
      transform: scale(1.14);
    }

    .projects-list .project .meta {
      padding: 15px;
      font-weight: 700;
      color: var(--brand-dark);
      display: block;
    }

    .timeline-card {
      margin-top: 30px;
    }

    .timeline-list {
      border-left: 2px solid var(--bg-light);
      padding-left: 15px;
      margin-top: 20px;
    }

    .timeline-list .item {
      position: relative;
      margin-bottom: 25px;
      border-left: 5px solid transparent;
      padding: 5px 0 5px 15px;
      cursor: pointer;
      transition: background 0.3s, border-left 0.3s;
      border-radius: 4px;
    }

    .timeline-list .item:hover {
      background: var(--bg-light);
      border-left: 5px solid var(--brand-yellow);
    }

    .timeline-list .item.active {
      background: #f0f0f5;
      font-weight: 700;
      border-left: 5px solid var(--brand-yellow);
    }

    .timeline-list .dot {
      position: absolute;
      left: -22px;
      top: 10px;
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: var(--brand-yellow);
      border: 3px solid white;
    }

    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.8);
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .modal-content {
      background-color: var(--card-bg);
      margin: auto;
      padding: 20px;
      border-radius: var(--radius);
      position: relative;
      max-width: 900px;
      width: 90%;
      max-height: 90vh;
      overflow-y: auto;
    }

    #projectModal .modal-content img {
      width: 100%;
      height: auto;
      max-height: 50vh;
      object-fit: cover;
      margin-bottom: 15px;
      border-radius: var(--radius);
    }

    #projectModal .modal-title {
      color: var(--brand-dark);
      margin-top: 0;
    }

    .close-btn {
      color: var(--muted);
      float: right;
      font-size: 28px;
      font-weight: bold;
      position: absolute;
      top: 10px;
      right: 20px;
      cursor: pointer;
      background: none;
      border: none;
    }

    .close-btn:hover,
    .close-btn:focus {
      color: var(--brand-dark);
      text-decoration: none;
    }

    .gallery-modal .gallery-content {
      position: relative;
      max-width: 900px;
      width: 90%;
      background-color: var(--card-bg);
      border-radius: var(--radius);
    }

    .gallery-modal #galleryImage {
      width: 100%;
      max-height: 70vh;
      object-fit: cover;
      border-radius: var(--radius) var(--radius) 0 0;
      display: block;
    }

    .gallery-modal .project-overlay {
      position: static;
      background: white;
      color: var(--text-color);
      border-radius: 0 0 var(--radius) var(--radius);
    }

    .timeline-section {
      background: white;
    }

    .timeline-content {
      padding: 20px 30px;
      background: var(--card-bg);
      position: relative;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      transition: box-shadow 0.3s, border-color 0.3s;
      border: 1px solid transparent;
    }

    .timeline-content:hover {
      border-color: var(--brand-accent);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
    }

    .timeline {
      position: relative;
      max-width: 1000px;
      margin: 0 auto;
    }

    .timeline::after {
      content: '';
      position: absolute;
      width: 6px;
      background-color: var(--brand-yellow);
      top: 0;
      bottom: 0;
      left: 50%;
      margin-left: -3px;
    }

    .timeline-item {
      padding: 10px 40px;
      position: relative;
      width: 50%;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }

    .timeline-item.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .timeline-item:nth-child(even) {
      left: 50%;
    }

    .timeline-item:nth-child(odd) {
      left: 0;
      transform: translateX(-100%);
    }

    .timeline-item.visible:nth-child(odd) {
      transform: translateX(0);
    }

    .timeline-item .timeline-content {
      padding: 20px 30px;
      background: var(--card-bg);
      position: relative;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }

    .timeline-icon {
      position: absolute;
      width: 40px;
      height: 40px;
      background-color: var(--brand-accent);
      border: 3px solid white;
      border-radius: 50%;
      z-index: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      font-size: 18px;
    }

    .timeline-item:nth-child(odd) .timeline-icon {
      right: -20px;
    }

    .timeline-item:nth-child(even) .timeline-icon {
      left: -20px;
    }

    .team-section {
      background: var(--bg-light);
    }

    .team-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
    }

    .team-card {
      background: var(--card-bg);
      padding: 25px;
      border-radius: var(--radius);
      text-align: center;
      box-shadow: var(--shadow);
      transition: transform 0.3s ease-out;
    }

    .team-card:hover {
      transform: scale(1.03);
    }

    .team-card img {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 15px;
      border: 4px solid var(--brand-yellow);
      transition: border-color 0.3s;
    }

    .team-card:hover img {
      border-color: #f7ca03;
    }

    .team-card .role {
      color: var(--brand-yellow);
      font-weight: 600;
      margin-bottom: 10px;
    }

    .social-icons {
      margin-top: 15px;
    }

    .social-icons a {
      color: var(--brand-dark);
      font-size: 1.2em;
      margin: 0 5px;
      transition: color 0.3s;
    }

    .social-icons a:hover {
      color: var(--brand-yellow);
    }

    .affiliation-section {
      background: white;
    }

    .affiliations-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 30px;
      align-items: start;
      justify-items: center;
      text-align: center;
    }

    .affiliation img {
      width: 100px;
      height: auto;
      margin-bottom: 8px;
      filter: grayscale(100%);
      transition: filter 0.3s;
    }

    .affiliation:hover img {
      filter: grayscale(0%);
    }

    .affiliation-title {
      color: var(--brand-dark);
    }

    .affiliation-detail {
      color: var(--muted);
      font-size: 13px;
    }

    .quiz-progress-bar {
      height: 10px;
      background-color: #eee;
      border-radius: 5px;
      margin-bottom: 10px;
      overflow: hidden;
    }

    #progress-indicator {
      height: 100%;
      background-color: var(--brand-yellow, #ffc107);
      transition: width 0.3s ease-in-out;
    }

    .quiz-progress-text {
      text-align: right;
      font-size: 0.9em;
      color: var(--muted, #666);
      margin-bottom: 25px;
    }

    .quiz-step h3 {
      margin-top: 0;
      margin-bottom: 20px;
      font-size: 1.5em;
      color: var(--brand-dark);
    }

    .option-grid {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .quiz-option {
      width: 100%;
      text-align: left;
      background-color: white;
      color: var(--brand-dark);
      border: 1px solid #ccc;
      padding: 12px 20px;
      border-radius: 8px;
      transition: background-color 0.2s, border-color 0.2s;
    }

    .quiz-option:hover {
      background-color: #f5f5f5;
      border-color: var(--brand-yellow);
    }

    .quiz-option.selected {
      background-color: var(--brand-yellow);
      color: white;
      border-color: var(--brand-yellow);
      font-weight: bold;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    #quiz-contact-form input {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      box-sizing: border-box;
    }

    #contact {
      background: var(--bg-light);
    }

    .contact-grid {
      display: grid;
      grid-template-columns: 1fr 1.2fr;
      gap: 30px;
    }

    #contact form input,
    #contact form textarea {
      width: 100%;
      padding: 12px;
      margin-bottom: 15px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 16px;
      background: white;
    }

    #contact form textarea {
      resize: vertical;
      min-height: 120px;
    }

    .affiliation-numbers {
      color: var(--muted);
      font-size: 14px;
    }

    .contact-cta-buttons {
      margin-top: 15px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .outline-yellow-btn {
      background: transparent;
      border: 2px solid var(--brand-yellow);
      color: var(--brand-dark);
    }

    .map-iframe {
      border-radius: var(--radius);
      margin-top: 20px;
    }

    .form-submit-row {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .form-message {
      color: var(--muted);
      font-size: 14px;
    }

    .legacy-footer {
      background-color: var(--brand-dark);
      color: white;
      padding: 15px 0;
    }

    .footer-legacy-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .footer-legacy-detail {
      color: rgba(255, 255, 255, 0.7);
      font-size: 13px;
    }

    .footer {
      background-color: var(--brand-dark);
      color: white;
      padding-top: 50px;
    }

    .footer-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
      padding-bottom: 30px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      max-width: 1200px;
      margin: 0 auto;
      padding-left: 20px;
      padding-right: 20px;
    }

    .footer-col h3,
    .footer-col h4 {
      margin-bottom: 20px;
      color: var(--brand-yellow);
    }

    .footer-col p {
      color: rgba(255, 255, 255, 0.7);
      font-size: 0.95em;
    }

    .footer-col ul {
      list-style: none;
    }

    .footer-col ul li {
      margin-bottom: 10px;
    }

    .footer-col a {
      color: rgba(255, 255, 255, 0.7);
      text-decoration: none;
      transition: color 0.3s;
    }

    .footer-col a:hover {
      color: var(--brand-yellow);
    }

    .footer-contact li {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .footer-socials {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 20px;
      padding-top: 10px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .footer-socials a {
      color: white;
      font-size: 1.5em;
      transition: color 0.3s;
    }

    .footer-socials a:hover {
      color: var(--brand-accent);
    }

    .footer-bottom {
      text-align: center;
      padding: 15px 20px;
      font-size: 0.85em;
      color: rgba(255, 255, 255, 0.5);
    }

    .back-to-top-btn {
      position: fixed;
      bottom: 25px;
      right: 25px;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      border: none;
      z-index: 999;
      cursor: pointer;
      display: none;
      background-color: var(--brand-dark);
      color: white;
      font-size: 1.2em;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease-in-out;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .back-to-top-btn:hover {
      background-color: var(--brand-accent);
      color: var(--brand-dark);
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
    }

    .back-to-top-btn i {
      transition: transform 0.3s ease-in-out;
    }

    .back-to-top-btn:hover i {
      transform: translateY(-2px);
    }

    @media (max-width: 900px) {
      .hero {
        grid-template-columns: 1fr;
        padding-bottom: 30px;
      }

      .hero h1 {
        font-size: 2.5em;
      }

      .about-grid {
        grid-template-columns: 1fr;
      }

      .contact-grid {
        grid-template-columns: 1fr;
      }

      .facts-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 20px 10px;
      }

      .timeline::after {
        left: 20px;
      }

      .timeline-item {
        width: 100%;
        padding-left: 40px;
        padding-right: 10px;
      }

      .timeline-item:nth-child(even),
      .timeline-item:nth-child(odd) {
        left: 0;
        transform: translateX(0);
      }

      .timeline-item:nth-child(odd) .timeline-icon,
      .timeline-item:nth-child(even) .timeline-icon {
        left: 0;
        margin-left: -30px;
      }
    }

    @media (max-width: 768px) {
      #navbar ul {
        display: none;
        flex-direction: column;
        position: absolute;
        top: 100px;
        left: 0;
        width: 100%;
        background-color: rgba(26, 26, 26, 0.95);
        padding: 10px 20px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        z-index: 500;
      }

      #navbar ul.active {
        display: flex;
      }

      #navbar li {
        text-align: center;
        padding: 8px 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .menu-toggle {
        display: block;
      }

      .topbar {
        padding: 10px 0 10px;
      }
    }
  </style>
</head>

<body>
  <header>
    <div class="container">
      <div class="topbar">
        <div class="brand">
          <a href="#top" class="logo">G</a>
          <div>
            <div class="brand-title">Gabekile Projects</div>
            <small class="brand-tagline">
              General Building • Civil • Mechanical • Electrical • Project Management
            </small>
          </div>
        </div>

        <button class="menu-toggle" id="menu-toggle" aria-expanded="false" aria-controls="navbar-menu">
          ☰
        </button>

        <nav id="navbar">
          <ul id="navbar-menu">
            <li><a href="#about" data-scroll-to="about">About</a></li>
            <li><a href="#services" data-scroll-to="services">Services</a></li>
            <li><a href="portfolio.html">Projects</a></li>
            <li><a href="#team" data-scroll-to="team">Team</a></li>
            <li><a href="#affiliation" data-scroll-to="affiliation">Affiliations</a></li>
            <li><a href="#contact" data-scroll-to="contact">Contact</a></li>
          </ul>
        </nav>
      </div>
    </div>


    <div class="container">
      <div class="hero">
        <div>
          <h1>Building the future, shaping communities.</h1>
          <p class="lead">Gabekile Projects is a proudly black-owned construction and engineering company established in
            2018. We deliver high-quality general building, civil, mechanical, electrical engineering and
            professional project management across the region.</p>
          <div class="cta">
            <button class="btn" data-scroll-to="contact">Get a Quote</button>
            <a href="portfolio.html" class="btn outline">Our Projects</a>
          </div>

          <div class="hero-fact-row">
            <div class="card hero-fact-card">
              <div class="hero-fact-icon">CIDB</div>
              <div>
                <div class="hero-fact-title">CIDB Grades</div>
                <div class="hero-fact-text">4CE PE, 4GB, 3ME — General building, Civil, Mechanical,
                  Electrical & Project Management</div>
              </div>
            </div>
          </div>
        </div>

        <aside class="card hero-card-aside">
          <h3>Quick Facts</h3>
          <p class="hero-card-desc">Founded <strong>2018</strong> — Proudly Black-Owned — Reg:
            <strong>2018/497520/07</strong>
          </p>
          <div class="hero-card-list">
            <div class="hero-card-item"><small class="muted">Head
                Office</small><strong>White River, 1200</strong></div>
            <div class="hero-card-item"><small class="muted">Phone</small><strong>+27 79 515
                7458</strong></div>
            <div class="hero-card-item"><small class="muted">Email</small><strong>info@gabekilepro.co.za</strong></div>
          </div>
        </aside>

      </div>
    </div>

    <section class="facts-bar">
      <div class="container">
        <div class="facts-grid">
          <div class="fact fade-in">
            <div class="fact-number">4GB/4CE</div>
            <div class="fact-label">CIDB Grading</div>
          </div>
          <div class="fact fade-in">
            <div class="fact-number counter" data-target="6">0</div>
            <div class="fact-label">Years Experience</div>
          </div>
          <div class="fact fade-in">
            <div class="fact-number counter" data-target="100">0</div>
            <div class="fact-label">Projects Completed</div>
          </div>
          <div class="fact fade-in">
            <div class="fact-number counter" data-target="85">0</div>
            <div class="fact-label">Local Sourcing</div>
          </div>
        </div>
      </div>

    </section>
  </header>

  <main>
    <section id="about" class="container">
      <div class="about-grid">
        <div class="card fade-in">
          <h2>About Gabekile Projects</h2>
          <p>Gabekile Projects was founded in 2018 by CEO <strong>Mr. Keith Mbatsane</strong> (Civil: Structural
            Engineer).The company provides a wide range of services including general building, civil,
            electrical and mechanical engineering and project management. Our projects are completed on time, within
            budget, and to the highest standards.</p>

          <h3 class="mt-14">CEO Statement</h3>
          <blockquote class="blockquote-highlight">"Welcome
            to Gabekile Projects... I am proud to lead this team and look forward to continuing to deliver value to our
            clients, community and partners." — <em>Mr. Keith Mbatsane</em></blockquote>
        </div>

        <div class="card fade-in">
          <h2>Vision & Mission</h2>
          <p><strong>Vision:</strong> To be a world-class construction, civil engineering, and project management
            company, shaping the future of infrastructure development and community growth, locally and globally.</p>
          <p><strong>Mission:</strong> To provide exceptional construction, civil engineering, and project management
            services that exceed client expectations, while promoting sustainable practices, innovation, and community
            development.</p>

          <h3 class="mt-14">Competitive Advantage</h3>
          <p>We bring deep technical expertise, strong relationships with clients and suppliers, and a focus on safety,
            quality and timely delivery. Our ability to tailor solutions for complex projects sets us apart.</p>
        </div>
      </div>
    </section>

    <section id="services" class="services-section">
      <div class="container">
        <h2 class="section-title">Our Services</h2>
        <p class="section-intro">
          At Gabekile Projects, we provide comprehensive engineering and construction solutions tailored to meet client
          needs — on time, within budget, and with excellence.
        </p>

        <div class="services-grid">
          <div class="service-card fade-in">
            <i class="fa-solid fa-building"></i>
            <h3>General Building</h3>
            <p>
              Expert construction and maintenance of residential, commercial, and industrial buildings with guaranteed
              quality and safety.
            </p>
          </div>

          <div class="service-card fade-in">
            <i class="fa-solid fa-road"></i>
            <h3>Civil Engineering</h3>
            <p>
              Infrastructure development including roads, bridges, stormwater drainage, and water reticulation projects.
            </p>
          </div>

          <div class="service-card fade-in">
            <i class="fa-solid fa-plug"></i>
            <h3>Electrical Engineering</h3>
            <p>
              Professional electrical installations, maintenance, and energy-efficient solutions for industrial and
              commercial projects.
            </p>
          </div>

          <div class="service-card fade-in">
            <i class="fa-solid fa-cogs"></i>
            <h3>Mechanical Engineering</h3>
            <p>
              High-quality fabrication, machinery installation, and mechanical maintenance across diverse industries.
            </p>
          </div>

          <div class="service-card fade-in">
            <i class="fa-solid fa-helmet-safety"></i>
            <h3>Project Management</h3>
            <p>
              Complete project planning and supervision — ensuring delivery that meets both client expectations and
              compliance standards.
            </p>
          </div>

          <div class="service-card fade-in">
            <i class="fa-solid fa-recycle"></i>
            <h3>Environmental & Sustainability</h3>
            <p>
              We prioritize sustainability through eco-friendly practices and community-based initiatives in every
              project we deliver.
            </p>
          </div>
        </div>
      </div>
    </section>

    <section id="clients" class="container">
      <div class="about-grid">
        <div class="card fade-in">
          <h2>Our Clientele</h2>
          <p>We serve a diverse mix of clients: Government departments, private developers, corporate entities,
            residential clients, and non-profits. Our trusted relationships and tailored solutions keep clients
            returning.</p>

          <h3 class="mt-12">Affiliations & Registrations</h3>
          <p>Company Reg: <strong>2018/497520/07</strong><br />VAT: <strong>4690305273</strong></p>
        </div>

        <div class="card fade-in">
          <h2>Growth & Expansion Plan</h2>
          <p><strong>Short-term:</strong> Expand into 2-3 new African countries, increase project portfolio by 30%, and
            invest in digital transformation (by 2028).</p>
          <p><strong>Mid-term:</strong> Presence in 5-7 international markets; diversify into sustainable infrastructure
            (by 2031).</p>
          <p><strong>Long-term:</strong> Operate in 10+ countries with industry recognition (by 2034).</p>
        </div>
      </div>
    </section>

    <section id="team" class="team-section">
      <div class="container">
        <h2 class="section-title">Meet Our Team</h2>
        <p class="section-intro">
          Our experienced and dedicated professionals lead Gabekile Projects with a commitment to quality, innovation,
          and excellence.
        </p>

        <div class="team-grid">
          <div class="team-card fade-in">
            <img src="images/1.jpg" alt="Mr. Keith Mbatsane, Founder & CEO">
            <h3>Mr. Keith Mbatsane</h3>
            <p class="role">Founder & CEO</p>
            <p>
              Visionary leader and civil engineer with a passion for sustainable development and community upliftment.
            </p>
            <div class="social-icons">
              <a href="#" aria-label="LinkedIn profile"><i class="fa-brands fa-linkedin"></i></a>
              <a href="#" aria-label="Instagram profile"><i class="fa-brands fa-instagram"></i></a>
            </div>
          </div>

          <div class="team-card fade-in">
            <img src="images/3.jpg" alt="Project Engineer">
            <h3>gabekileprojects</h3>
            <p class="role">Project Engineer</p>
            <p>
              Expert in structural and electrical systems, dedicated to technical precision and innovation in design.
            </p>
            <div class="social-icons">
              <a href="#" aria-label="LinkedIn profile"><i class="fa-brands fa-linkedin"></i></a>
              <a href="#" aria-label="Instagram profile"><i class="fa-brands fa-instagram"></i></a>
            </div>
          </div>
        </div>
      </div>
    </section>


    <section id="affiliation" class="affiliation-section">
      <div class="container">
        <h2 class="section-title">Our Affiliation Bodies</h2>
        <div class="affiliations-grid">
          <div class="affiliation fade-in">
            <img src="images/Affiliates/cipc.jpeg" alt="CIPC Logo">
            <div class="affiliation-title"><strong>Companies & Intellectual Property Commission</strong></div>
            <small class="affiliation-detail">Reg No: 2018/497520/07</small>
          </div>

          <div class="affiliation fade-in">
            <img src="images/Affiliates/csd.png" alt="CSD Logo">
            <div class="affiliation-title"><strong>Central Supplier Database</strong></div>
            <small class="affiliation-detail">MAAA0765334</small>
          </div>

          <div class="affiliation fade-in">
            <img src="images/Affiliates/fnb.png" alt="FNB Logo">
            <div class="affiliation-title"><strong>First National Bank</strong></div>
            <small class="affiliation-detail">62283633425</small>
          </div>

          <div class="affiliation fade-in">
            <img src="images/Affiliates/cf.png" alt="Compensation Fund Logo">
            <div class="affiliation-title"><strong>Compensation Fund</strong></div>
            <small class="affiliation-detail">990001408602</small>
          </div>

          <div class="affiliation fade-in">
            <img src="images/Affiliates/nhbrc.png" alt="NHBRC Logo">
            <div class="affiliation-title"><strong>National Home Builders Registration Council</strong></div>
            <small class="affiliation-detail">4000060607</small>
          </div>

          <div class="affiliation fade-in">
            <img src="images/Affiliates/sars.jpeg" alt="SARS Logo">
            <div class="affiliation-title"><strong>South African Revenue Service</strong></div>
            <small class="affiliation-detail">VAT: 4690305273</small>
          </div>

          <div class="affiliation fade-in">
            <img src="images/Affiliates/cibd.png" alt="CIDB Logo">
            <div class="affiliation-title"><strong>Construction Industry Development Board</strong></div>
            <small class="affiliation-detail">4GB / 4CE PE</small>
          </div>
        </div>
      </div>
    </section>

    <section id="lead-quiz" class="container">
      <h2 class="section-title">Start Your Project Journey</h2>
      <p class="section-intro">Answer a few quick questions to get a personalized quote and timeline for your
        construction or engineering project.</p>

      <div id="quiz-container" class="card">
        <div class="quiz-progress-bar">
          <div id="progress-indicator" style="width: 0%;"></div>
        </div>
        <p class="quiz-progress-text">Step <span id="current-step">1</span> of <span id="total-steps"></span></p>

        <div id="quiz-steps">

          <div class="quiz-step" data-step="1">
            <h3>1. What type of project are you planning?</h3>
            <div class="option-grid">
              <button class="btn quiz-option" data-score="10" data-value="Commercial Building">Commercial
                Building</button>
              <button class="btn quiz-option" data-score="8" data-value="Residential Development">Residential
                Development</button>
              <button class="btn quiz-option" data-score="5" data-value="Civil/Infrastructure">Civil/Infrastructure
                (Roads, Pipes)</button>
              <button class="btn quiz-option" data-score="3" data-value="Specialized Mechanical/Electrical">Specialized
                M&E Works</button>
              <button class="btn quiz-option" data-score="1" data-value="Maintenance/Small Reno">Maintenance/Small
                Reno</button>
            </div>
          </div>

          <div class="quiz-step" data-step="2" style="display:none;">
            <h3>2. What is your estimated project budget?</h3>
            <div class="option-grid">
              <button class="btn quiz-option" data-score="15" data-value="R2M+">R2,000,000 +</button>
              <button class="btn quiz-option" data-score="10" data-value="R500K - R2M">R500,000 - R2,000,000</button>
              <button class="btn quiz-option" data-score="5" data-value="R100K - R500K">R100,000 - R500,000</button>
              <button class="btn quiz-option" data-score="0" data-value="Under R100K">Under R100,000</button>
            </div>
          </div>

          <div class="quiz-step" data-step="3" style="display:none;">
            <h3>3. What is your ideal project start date?</h3>
            <div class="option-grid">
              <button class="btn quiz-option" data-score="15" data-value="Within 3 Months">Ready to Start (Within 3
                Months)</button>
              <button class="btn quiz-option" data-score="10" data-value="3 to 6 Months">3 to 6 Months</button>
              <button class="btn quiz-option" data-score="5" data-value="6 to 12 Months">6 to 12 Months</button>
              <button class="btn quiz-option" data-score="0" data-value="Just Researching">Just Researching / 1
                Year+</button>
            </div>
          </div>

          <div class="quiz-step" data-step="4" id="final-form-step" style="display:none;">
            <h3>Great! Here's Your Project Readiness Summary:</h3>
            <div id="score-summary"
              style="margin-bottom: 20px; padding: 15px; border-radius: 8px; background: #f9f9f9;">
            </div>

            <form id="quiz-contact-form">
              <input type="text" id="quiz-name" placeholder="Your Name" required />
              <input type="email" id="quiz-email" placeholder="Email Address" required />
              <input type="tel" id="quiz-phone" placeholder="Phone (Optional)" />
              <input type="hidden" id="quiz-score-data" name="lead_data" />

              <button type="submit" class="btn">Send Quote Request</button>
              <p id="form-message" style="margin-top: 10px; color: green; display: none;">Message sent!</p>
            </form>
          </div>

        </div>
      </div>

      <canvas id="confetti-canvas"
        style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 9999; display: none;"></canvas>
    </section>


    <section id="contact" class="container">
      <h2 class="section-title" style="text-align: left;">Get In Touch</h2>
      <p class="section-intro" style="text-align: left; max-width: 100%; margin-left: 0;">Contact us for quotes,
        partnerships or general enquiries.</p>
      <div class="contact-grid">
        <div class="card fade-in">
          <h3>Contact Details</h3>
          <p><strong>Address:</strong> 30 Outenique, White River, 1200</p>
          <p><strong>Phone:</strong> +27 79 515 7458</p>
          <p><strong>Fax:</strong> 086 693 1652</p>
          <p><strong>Email:</strong> info@gabekilepro.co.za</p>

          <h4 class="mt-12">Affiliation Numbers</h4>
          <p class="affiliation-numbers">MAAA0765334 — 4000006057 — 10240642 — 62783633425 — 990001490827
          </p>

          <div class="contact-cta-buttons">
            <a class="btn" href="tel:+27795157458">Call Us Now</a>
            <a class="btn outline-yellow-btn" href="pdf/GABEKILE PROJECTS BUSINESS PROFILE.pdf" download>Download
              Profile (PDF)</a>
          </div>
        </div>

        <form id="contactForm" action="https://formspree.io/f/YOUR_FORM_ID_CODE" method="POST">
          <input type="text" id="name" name="name" placeholder="Your name" required aria-label="Your name" />
          <input type="email" id="email" name="_replyto" placeholder="Email" required aria-label="Your email address" />
          <input type="text" id="subject" name="subject" placeholder="Subject" aria-label="Subject of your message" />
          <textarea id="message" name="message" placeholder="Message" required aria-label="Your message"></textarea>
          <div class="form-submit-row">
            <button type="submit" class="btn">Send Message</button>
            <div id="formMsg" class="form-message"></div>
          </div>
        </form>

        <iframe src="https://maps.google.com/maps?q=30+Outenique+White+River+1200&t=&z=13&ie=UTF8&iwloc=&output=embed"
          width="100%" height="250" class="map-iframe" allowfullscreen loading="lazy"
          referrerpolicy="no-referrer-when-downgrade" style="grid-column: 1 / -1;">
        </iframe>
      </div>

      <button id="backToTop" data-scroll-to="top" class="btn back-to-top-btn" aria-label="Back to top">
        <i class="fa-solid fa-arrow-up"></i>
      </button>
    </section>

  </main>

  <footer class="footer">
    <div class="container footer-container">
      <div class="footer-col">
        <h3>Gabekile Projects</h3>
        <p>
          A proudly black-owned South African company providing quality
          construction, civil, electrical, mechanical engineering, and project-management services since 2018.
        </p>
        <div class="footer-socials">
          <a href="#" aria-label="Facebook"><i class="fa-brands fa-facebook-f"></i></a>
          <a href="#" aria-label="LinkedIn"><i class="fa-brands fa-linkedin-in"></i></a>
          <a href="#" aria-label="Instagram"><i class="fa-brands fa-instagram"></i></a>
        </div>
      </div>

      <div class="footer-col">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="#about" data-scroll-to="about">About Us</a></li>
          <li><a href="#services" data-scroll-to="services">Our Services</a></li>
          <li><a href="portfolio.html">Projects</a></li>
          <li><a href="#timeline" data-scroll-to="timeline">Our Journey</a></li>
          <li><a href="#team" data-scroll-to="team">Team</a></li>
          <li><a href="#affiliation" data-scroll-to="affiliation">Affiliations</a></li>
          <li><a href="#contact" data-scroll-to="contact">Contact Us</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h4>Contact Info</h4>
        <ul class="footer-contact">
          <li><i class="fa-solid fa-location-dot"></i> 30 Outenique, White River</li>
          <li><i class="fa-solid fa-phone"></i> +27 79 895 8972</li>
          <li><i class="fa-solid fa-envelope"></i> info@gabekileprojects.co.za</li>
        </ul>
      </div>
    </div>

    <div class="footer-bottom">
      <p>© 2025 Gabekile Projects (Pty) Ltd. All Rights Reserved.</p>
      <p>Website designed by Gabekile Projects Web Team.</p>
    </div>
  </footer>


  <div id="projectModal" class="modal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal-content" role="document">
      <button id="modalClose" class="close-btn" aria-label="Close project details">×</button>
      <h3 id="modalTitle" class="modal-title"></h3>
      <img id="modalImage" src="" alt="Project image" />
      <p id="modalDesc" class="meta"></p>
      <p id="modalTimeline" class="meta"></p>
    </div>
  </div>

  <div id="galleryModal" class="modal gallery-modal" aria-hidden="true" role="dialog" aria-modal="true"
    aria-labelledby="galleryModalTitle">
    <div class="gallery-content">
      <span class="close-btn" onclick="closeGallery()" aria-label="Close gallery">×</span>
      <h3 id="galleryModalTitle" class="visually-hidden">Project Gallery</h3>
      <img id="galleryImage" src="" alt="Project Image">
      <div id="galleryCaption" class="project-overlay">
        <h3 id="galleryTitle"></h3>
        <p id="galleryDescription"></p>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {

      // =========================================================
      // 1. UTILITY FUNCTIONS & COUNTER LOGIC
      // =========================================================

      function scrollToTop() {
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      }

      // Animated Number Counter Function (Optimized & Consolidated)
      function animateCounter(el) {
        if (el.classList.contains('counted')) {
          return;
        }
        el.classList.add('counted');

        const target = +el.getAttribute('data-target');
        // Determine required suffix once
        const factLabel = el.parentElement.querySelector('.fact-label').textContent;
        const suffix = factLabel.includes('Sourcing') ? '%' : factLabel.includes('Years') ? '+' : '';

        // Set speed and increment
        const duration = 2000; // Total duration in ms
        const stepTime = 10; // Interval time in ms
        const totalSteps = duration / stepTime;
        const increment = target / totalSteps;

        let count = 0;

        const updateCount = () => {
          count += increment;

          if (count < target) {
            let displayValue = Math.ceil(count);

            // Special case for 'Years' to show intermediate '+' only if not at target
            if (suffix === '+' && displayValue < target) {
              el.innerText = displayValue + suffix;
            } else {
              el.innerText = displayValue + (suffix === '+' ? '' : suffix); // Do not show '+' until final count
            }
            setTimeout(updateCount, stepTime);
          } else {
            // Ensure final value is set exactly
            el.innerText = target + suffix;
          }
        };
        updateCount();
      }

      // =========================================================
      // 2. INTERSECTION OBSERVER (Fade-In & Counter Trigger)
      // =========================================================

      const io = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');

            // Check for counter animation trigger
            if (entry.target.classList.contains('fact')) {
              entry.target.querySelectorAll('.counter').forEach(counterEl => {
                animateCounter(counterEl);
              });
            }
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.15 });

      // Observe elements that need the fade-in effect or counter animation
      document.querySelectorAll('.fade-in, .service-card, .team-card, .affiliation, .fact').forEach(el => {
        io.observe(el);
      });

      // =========================================================
      // 3. SCROLL & HEADER LOGIC
      // =========================================================

      const backToTopBtn = document.getElementById('backToTop');
      const header = document.querySelector('header');

      window.addEventListener('scroll', () => {
        // Back to Top Button visibility
        if (backToTopBtn) {
          backToTopBtn.style.display = window.scrollY > 400 ? 'flex' : 'none';
        }

        // Sticky Header Shrink Logic
        if (window.scrollY > 80) {
          header.classList.add('scrolled');
        } else {
          header.classList.remove('scrolled');
        }
      });

      // =========================================================
      // 4. NAVIGATION & SMOOTH SCROLLING
      // =========================================================

      const menuToggle = document.getElementById('menu-toggle');
      const navbarMenu = document.getElementById('navbar-menu');

      if (menuToggle && navbarMenu) {
        menuToggle.addEventListener('click', () => {
          navbarMenu.classList.toggle('active');
          const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';
          menuToggle.setAttribute('aria-expanded', !isExpanded);
        });

        // Close menu and handle smooth scroll when a link is clicked
        navbarMenu.querySelectorAll('a').forEach(link => {
          link.addEventListener('click', (e) => {
            navbarMenu.classList.remove('active');
            menuToggle.setAttribute('aria-expanded', 'false');

            const targetId = link.getAttribute('data-scroll-to') || link.getAttribute('href').substring(1);
            if (targetId && targetId !== 'portfolio.html') {
              e.preventDefault();
              const targetElement = document.getElementById(targetId);
              if (targetElement) {
                targetElement.scrollIntoView({ behavior: 'smooth' });
              } else if (targetId === 'top') {
                scrollToTop();
              }
            }
          });
        });
      }

      // Apply smooth scroll to all other relevant anchors (e.g., CTA buttons)
      document.querySelectorAll('[data-scroll-to]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const targetId = this.getAttribute('data-scroll-to');

          if (targetId === 'top') {
            scrollToTop();
            return;
          }

          const targetElement = document.getElementById(targetId);
          if (targetElement) {
            targetElement.scrollIntoView({ behavior: 'smooth' });
          }
        });
      });

      // =========================================================
      // 5. MODAL LOGIC (Removed unused project/timeline listeners)
      // =========================================================

      // Since the Project Lists and Timeline HTML elements were commented out, 
      // the corresponding JS listeners for openProjectModal and openGallery are removed here.
      // We keep the modal close functions as they might be called by an outside click or explicitly.

      const projectModal = document.getElementById('projectModal');
      const galleryModal = document.getElementById('galleryModal');
      const modalCloseBtn = document.getElementById('modalClose');

      // Close Modal Function (Centralized)
      function closeModal(modalElement) {
        if (modalElement) {
          modalElement.style.display = 'none';
          modalElement.setAttribute('aria-hidden', 'true');
          document.body.style.overflow = '';
        }
      }

      // Project Modal Close Handler
      if (modalCloseBtn) {
        modalCloseBtn.addEventListener('click', () => closeModal(projectModal));
      }

      // Global function used by the HTML onclick attributes in #galleryModal
      window.closeGallery = function () {
        closeModal(galleryModal);
      }

      // Modal Close Handlers for outside click
      window.addEventListener('click', (event) => {
        if (event.target === projectModal) {
          closeModal(projectModal);
        }
        if (event.target === galleryModal) {
          closeModal(galleryModal);
        }
      });


      // =========================================================
      // 6. CONTACT FORM SUBMISSION (Formspree Integration)
      // =========================================================

      const contactForm = document.getElementById('contactForm');
      const formMsg = document.getElementById('formMsg');
      const submitButton = contactForm ? contactForm.querySelector('button[type="submit"]') : null;

      if (contactForm) {
        contactForm.addEventListener('submit', async function (e) {
          e.preventDefault();

          // --- 1. Set Loading State ---
          if (formMsg) {
            formMsg.textContent = 'Sending message...';
            formMsg.style.color = '#ffc107'; // Yellow/Amber
            formMsg.style.display = 'block';
          }
          if (submitButton) {
            submitButton.disabled = true;
            submitButton.textContent = 'Sending...';
          }

          const url = contactForm.action;
          const data = new FormData(contactForm);

          try {
            // --- 2. Send Data via Fetch API to Formspree ---
            const response = await fetch(url, {
              method: 'POST',
              body: data,
              headers: {
                'Accept': 'application/json'
              }
            });

            if (response.ok) {
              // --- 3. Handle Success ---
              if (formMsg) {
                formMsg.textContent = 'Thank you! Your message has been sent.';
                formMsg.style.color = 'green';
              }
              contactForm.reset(); // Clear form fields
            } else {
              // --- 4. Handle Error (e.g., validation failure) ---
              const responseData = await response.json();
              const errorMessage = responseData.error || 'Error: Could not send message. Please check your inputs.';

              if (formMsg) {
                formMsg.textContent = errorMessage;
                formMsg.style.color = 'red';
              }
            }
          } catch (error) {
            // --- 5. Handle Network Failure ---
            console.error('Network Error:', error);
            if (formMsg) {
              formMsg.textContent = 'Network error. Please try again.';
              formMsg.style.color = 'red';
            }
          } finally {
            // --- 6. Reset Button State ---
            if (submitButton) {
              submitButton.disabled = false;
              submitButton.textContent = 'Send Message';
            }

            // Clear message after 5 seconds
            setTimeout(() => {
              if (formMsg) {
                formMsg.textContent = '';
                formMsg.style.display = 'none';
              }
            }, 5000);
          }
        });
      }
      // =========================================================
      // 7. MULTI-STEP LEAD QUIZ LOGIC (Simplified Confetti)
      // =========================================================

      const quizSteps = document.querySelectorAll('.quiz-step');
      const totalSteps = quizSteps.length;
      const progressIndicator = document.getElementById('progress-indicator');
      const currentStepText = document.getElementById('current-step');
      const totalStepsText = document.getElementById('total-steps');
      const optionButtons = document.querySelectorAll('.quiz-option');
      const finalForm = document.getElementById('quiz-contact-form');
      const scoreSummary = document.getElementById('score-summary');
      const confettiCanvas = document.getElementById('confetti-canvas'); // Get canvas element

      let currentStep = 1;
      let totalScore = 0;
      let quizData = {};

      // Exclude the final form step from the count displayed to the user
      totalStepsText.textContent = totalSteps - 1;

      // --- Progress and Navigation Logic ---
      function updateProgress() {
        const progress = Math.min((currentStep - 1) / (totalSteps - 1), 1) * 100;
        progressIndicator.style.width = `${progress}%`;
        currentStepText.textContent = Math.min(currentStep, totalSteps - 1);
      }

      function showStep(step) {
        quizSteps.forEach(el => {
          el.style.display = (parseInt(el.getAttribute('data-step')) === step) ? 'block' : 'none';
        });

        if (step === totalSteps) {
          handleQuizCompletion();
        } else {
          updateProgress();
        }
      }

      // --- Option Selection Handler ---
      optionButtons.forEach(button => {
        button.addEventListener('click', function () {
          const currentStepEl = this.closest('.quiz-step');
          // Remove 'selected' from all siblings
          currentStepEl.querySelectorAll('.quiz-option').forEach(opt => {
            opt.classList.remove('selected');
          });

          this.classList.add('selected');

          const stepId = `step${currentStep}`;
          const score = parseInt(this.getAttribute('data-score'));
          const value = this.getAttribute('data-value');

          // Record data
          quizData[stepId] = { score, value, question: currentStepEl.querySelector('h3').textContent };

          // Move to the next step
          setTimeout(() => {
            currentStep++;
            showStep(currentStep);
          }, 300);
        });
      });

      // --- Conditional Logic and Completion ---
      function handleQuizCompletion() {
        totalScore = Object.values(quizData).reduce((sum, item) => sum + item.score, 0);
        // Max possible score: 10 + 15 + 15 = 40

        let readinessLevel = '';
        let readinessColor = '';
        let readinessMessage = '';

        if (totalScore >= 35) {
          readinessLevel = 'Tier 1: High-Priority Lead';
          readinessColor = 'green';
          readinessMessage = 'Excellent! Your project is well-defined and ready to start. We will prioritize your request and connect you with a director immediately.';
        } else if (totalScore >= 20) {
          readinessLevel = 'Tier 2: Strong Lead';
          readinessColor = 'orange';
          readinessMessage = 'Great progress! Your project has solid foundations. We can move to a quote quickly and clarify the remaining details.';
        } else {
          readinessLevel = 'Tier 3: Early-Stage Inquiry';
          readinessColor = 'red';
          readinessMessage = 'Thank you for your inquiry. We can help guide you on next steps for planning and budgeting. A project manager will be in touch.';
        }

        // Prepare Summary HTML
        let detailHtml = Object.values(quizData).map(item =>
          `<li><strong>${item.question.split('. ')[1]}</strong>: ${item.value}</li>`
        ).join('');

        scoreSummary.innerHTML = `
                <p style="font-weight: bold; color: ${readinessColor}; margin-bottom: 5px;">${readinessLevel}</p>
                <p>${readinessMessage}</p>
                <hr style="margin: 10px 0; border-color: #ddd;">
                <p style="font-size: 0.9em; margin-bottom: 0;"><strong>Your Selections:</strong></p>
                <ul style="list-style-type: none; padding-left: 0; font-size: 0.9em;">${detailHtml}</ul>
            `;

        // Update Hidden Input for Form Submission
        const submissionData = {
          totalScore: totalScore,
          readiness: readinessLevel,
          details: quizData
        };
        document.getElementById('quiz-score-data').value = JSON.stringify(submissionData);

        // Run Confetti Animation
        runConfetti(confettiCanvas);
      }

      // --- Form Submission (Placeholder for CRM/Email) ---
      finalForm.addEventListener('submit', function (e) {
        e.preventDefault();

        const formData = new FormData(this);
        const formMessage = document.getElementById('form-message');
        formMessage.style.display = 'block';
        formMessage.textContent = 'Sending request...';

        // IMPORTANT: REPLACE THIS WITH YOUR ACTUAL BACKEND/CRM INTEGRATION
        // console.log("--- LEAD SUBMISSION DATA ---");
        // console.log({
        //     name: formData.get('quiz-name'),
        //     email: formData.get('quiz-email'),
        //     phone: formData.get('quiz-phone'),
        //     leadData: JSON.parse(document.getElementById('quiz-score-data').value)
        // });

        setTimeout(() => {
          formMessage.textContent = 'Success! We have received your high-priority request and will contact you shortly.';
          finalForm.reset();
          // In a real application, you would use fetch() here to send data.
        }, 1500);
      });

      // --- Confetti Animation Logic (Basic Implementation) ---
      function runConfetti(canvas) {
        canvas.style.display = 'block';
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        function Confetto() {
          this.color = `hsl(${Math.random() * 360}, 100%, 50%)`;
          this.x = Math.random() * canvas.width;
          this.y = 0;
          this.r = Math.random() * 5 + 5;
          this.tiltAngle = 0;
          this.velocity = Math.random() * 5 + 5;
        }

        Confetto.prototype.draw = function () {
          ctx.beginPath();
          ctx.lineWidth = this.r / 2;
          ctx.strokeStyle = this.color;
          ctx.moveTo(this.x + this.tilt + this.r, this.y);
          ctx.lineTo(this.x + this.tilt, this.y + this.r / 2);
          ctx.stroke();
        };

        let confetti = [];
        for (let i = 0; i < 50; i++) {
          confetti.push(new Confetto());
        }

        let animationLoop = setInterval(() => {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          let remainingConfetti = [];

          confetti.forEach(c => {
            c.tiltAngle += 0.1;
            c.y += c.velocity;
            c.tilt = Math.sin(c.tiltAngle) * 10;
            c.draw();

            if (c.y < canvas.height) {
              remainingConfetti.push(c);
            }
          });

          confetti = remainingConfetti;

          if (confetti.length === 0) {
            clearInterval(animationLoop);
            setTimeout(() => canvas.style.display = 'none', 500);
          }
        }, 16);
      }

      // Initialize the first step of the quiz
      showStep(currentStep);
    });

    

  </script>
</body>

</html>
