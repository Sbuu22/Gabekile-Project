<!DOCTYPE html>
<html lang="en">


<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GABEKILE Projects Portfolio</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
<link rel="icon" type="image/png" href="logo/logo.png" sizes="32x32">
<link rel="shortcut icon" href="logo/logo.png">


<style>
    /* ========================================================
BASE & VARIABLES
======================================================== */
    :root {
        /* Brand Colors */
        --brand-dark: #0f1720;
        --brand-primary: var(--brand-dark);
        --brand-accent: #ff7a00;
        --brand-yellow: #ffb300;

        /* Background & Text */
        --bg-light: #f4f4f9;
        --text-dark: #1e1e1e;
        --text-color: var(--text-dark);
        --text-light: #cccccc;

        /* Spacing & Effects */
        --shadow-sm: 0 4px 12px rgba(0, 0, 0, 0.08);
        --shadow-lg: 0 8px 25px rgba(0, 0, 0, 0.2);
        --radius: 0.25rem;
        /* Standardizing to rem */
        --transition-speed: 0.3s;

        /* Typography */
        --font-inter: 'Inter', sans-serif;
    }

    /* ========================================================
RESET & BASE STYLES
======================================================== */
    *,
    *::before,
    *::after {
        box-sizing: border-box;
        /* Modern box model */
    }

    body {
        font-family: var(--font-inter);
        color: var(--text-color);
        margin: 0;
        background-color: var(--bg-light);
        line-height: 1.6;
        scroll-behavior: smooth;
        /* For smooth scrolling to anchors/top */
    }

    a {
        text-decoration: none;
        color: inherit;
    }

    /* Helper Classes */
    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1.25rem;
        /* 20px */
    }

    .no-scroll {
        overflow: hidden !important;
    }

    /* Typography Helpers */
    .section-title {
        text-align: center;
        font-size: 2.5rem;
        /* Use rem */
        color: var(--brand-primary);
        margin-bottom: 0.625rem;
        /* 10px */
        font-weight: 800;
    }

    .section-intro {
        text-align: center;
        font-size: 1.125rem;
        /* 18px */
        color: #666;
        margin-bottom: 2.5rem;
        /* 40px */
    }

    /* ========================================================
WATERMARK BACKGROUND
======================================================== */
    #watermark-bg {
        position: fixed;
        inset: 0;
        /* Shorthand for top, right, bottom, left: 0; */
        z-index: -1;
        background-color: var(--bg-light);
        background-image: url('logo/logo.png');
        background-repeat: no-repeat;
        background-position: center center;
        background-size: 80vh;
        opacity: 0.05;
    }

    /* ========================================================
HEADER & NAVIGATION
======================================================== */
    header {
        background-color: var(--brand-dark);
        color: white;
        padding-top: 1.25rem;
        /* 20px */
        transition: all var(--transition-speed) ease;
        z-index: 100;
        /* Ensure header is always above content */
        position: sticky;
        top: 0;
    }

    /* Class applied by JavaScript when scrolled */
    header.scrolled {
        padding-block: 0.3125rem;
        /* 5px (shorthand for padding-top and padding-bottom) */
        box-shadow: 0 0.125rem 0.625rem rgba(0, 0, 0, 0.3);
        /* 2px 10px */
    }

    .topbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding-block: 0.625rem;
        /* 10px */
    }

    .brand {
        display: flex;
        align-items: center;
        gap: 0.625rem;
        /* 10px */
        flex-shrink: 0;
    }

    .logo {
        width: 2.5rem;
        /* 40px */
        height: 2.5rem;
        background-color: var(--brand-yellow);
        color: var(--brand-dark);
        font-weight: 800;
        font-size: 1.5rem;
        /* 24px */
        border-radius: var(--radius);
        display: grid;
        /* Use grid for perfect centering */
        place-content: center;
        text-decoration: none;
        transition: all var(--transition-speed) ease;
    }

    .brand-title-group {
        line-height: 1.2;
    }

    .brand-title {
        font-weight: 800;
        font-size: 1.125rem;
        /* 18px */
        transition: font-size var(--transition-speed) ease;
    }

    .brand-tagline {
        color: rgba(255, 255, 255, 0.8);
        font-size: 0.8125rem;
        /* 13px */
        transition: opacity var(--transition-speed) ease;
    }

    /* Scrolled Header Adjustments */
    header.scrolled .brand-title {
        font-size: 1rem;
        /* 16px */
    }

    header.scrolled .brand-tagline {
        opacity: 0;
        height: 0;
        overflow: hidden;
        margin: 0;
    }

    header.scrolled .logo {
        width: 1.875rem;
        /* 30px */
        height: 1.875rem;
        font-size: 1.125rem;
        /* 18px */
    }

    /* Navigation Menu */
    #navbar ul {
        list-style: none;
        display: flex;
        gap: 1.25rem;
        /* 20px */
        padding: 0;
        margin: 0;
    }

    #navbar a {
        color: white;
        padding-block: 0.3125rem;
        /* 5px */
        transition: color var(--transition-speed);
        display: inline-block;
    }

    #navbar a:hover {
        color: var(--brand-yellow);
    }

    .menu-toggle {
        display: none;
        background: none;
        border: none;
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
        line-height: 1;
    }

    /* ========================================================
FEATURED PROJECT BANNER
======================================================== */
    .featured-banner {
        background-image: url('images/1.jpg');
        background-size: cover;
        background-position: center;
        background-attachment: scroll;
        height: 21.875rem;
        /* 350px */
        border-radius: var(--radius);
        margin-bottom: 3.125rem;
        /* 50px */
        position: relative;
        overflow: hidden;
        box-shadow: var(--shadow-lg);
    }

    .featured-content {
        position: absolute;
        inset: 0;
        /* Cover the whole banner */
        /* Gradient overlay for text readability (adjusted values for cleaner look) */
        background: linear-gradient(to top, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0) 100%);
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        padding: 2.5rem;
        /* 40px */
        color: white;
    }

    .featured-content h2 {
        font-size: 2.5rem;
        margin: 0;
        color: white;
        text-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.8);
        font-weight: 800;
    }

    .featured-content p {
        font-size: 1.1rem;
        margin-top: 0.3125rem;
        margin-bottom: 1.25rem;
        max-width: 600px;
    }

    .featured-tag {
        align-self: flex-start;
        /* Keeps the tag from stretching */
        background-color: var(--brand-accent);
        color: var(--brand-primary);
        padding: 0.3125rem 0.625rem;
        border-radius: 3px;
        font-weight: 700;
        font-size: 0.8rem;
        letter-spacing: 1px;
        margin-bottom: 0.625rem;
    }

    .view-details-btn {
        align-self: flex-start;
        background-color: var(--brand-accent);
        color: var(--brand-primary);
        border: none;
        padding: 0.625rem 1.25rem;
        border-radius: 50px;
        cursor: pointer;
        font-weight: 700;
        font-size: 1rem;
        transition: background-color var(--transition-speed), transform var(--transition-speed);
    }

    .view-details-btn:hover {
        background-color: white;
        transform: translateY(-2px);
    }


    /* ========================================================
PORTFOLIO MAIN SECTION
======================================================== */
    #portfolio-section {
        padding-block: 5rem;
        /* 80px */
    }

    /* Filter and Search container */
    .portfolio-controls {
        display: flex;
        flex-direction: column;
        gap: 1.25rem;
        /* 20px */
        margin-bottom: 3.125rem;
        /* 50px */
        align-items: center;
    }

    #projectSearch {
        width: 100%;
        max-width: 400px;
        padding: 0.75rem 1.25rem;
        /* 12px 20px */
        border: 2px solid var(--text-light);
        border-radius: var(--radius);
        font-size: 1rem;
        transition: border-color var(--transition-speed), box-shadow var(--transition-speed);
        box-shadow: var(--shadow-sm);
    }

    #projectSearch:focus {
        outline: none;
        border-color: var(--brand-accent);
        box-shadow: 0 0 0 3px rgba(255, 122, 0, 0.2);
    }

    /* Filter Buttons */
    .portfolio-filters {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
    }

    .filter-btn {
        background-color: var(--bg-light);
        border: 2px solid var(--text-light);
        color: var(--text-color);
        padding: 0.625rem 1.25rem;
        /* 10px 20px */
        margin: 0.3125rem;
        /* 5px */
        border-radius: var(--radius);
        cursor: pointer;
        font-weight: 600;
        transition: all var(--transition-speed);
        white-space: nowrap;
    }

    .filter-btn:hover {
        border-color: var(--brand-accent);
        color: var(--brand-accent);
    }

    .filter-btn.active {
        background-color: var(--brand-primary);
        border-color: var(--brand-primary);
        color: white;
        box-shadow: var(--shadow-sm);
    }

    /* Project Grid */
    .project-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1.25rem;
        /* 20px */
    }

    .project-item {
        position: relative;
        overflow: hidden;
        border-radius: var(--radius);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        cursor: pointer;
        border: 1px solid #eee;
        background-color: white;
        /* Ensures consistent background */
    }

    .project-item img {
        width: 100%;
        height: 17.5rem;
        /* 280px */
        object-fit: cover;
        display: block;
        transition: transform 0.4s ease, opacity 0.4s ease;
    }

    /* Overlay for details */
    .project-details {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        background: linear-gradient(to top, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0) 100%);
        color: white;
        padding: 1.25rem;
        /* 20px */
        transition: padding 0.4s ease, background 0.4s ease;
        min-height: 5rem;
        /* 80px */
        display: flex;
        align-items: flex-end;
    }

    .project-details h3 {
        margin: 0;
        font-size: 1.4rem;
        color: white;
        font-weight: 600;
        text-shadow: 0 0 5px rgba(0, 0, 0, 0.8), 0 0 10px rgba(0, 0, 0, 0.5);
        border-bottom: 2px solid var(--brand-accent);
        padding-bottom: 0.3125rem;
        /* 5px */
        transition: border-color 0.4s ease;
    }

    .project-details p {
        /* Hide all secondary text/description elements */
        display: none !important;
    }

    /* Hover effects */
    .project-item:hover img {
        transform: scale(1.03);
        opacity: 0.95;
    }

    .project-item:hover .project-details {
        padding-bottom: 1.5625rem;
        /* 25px */
    }

    .project-item:hover .project-details h3 {
        border-bottom-color: white;
    }


    /* ========================================================
MODAL STYLING (Project Detail View)
======================================================== */
    .modal {
        display: none;
        position: fixed;
        inset: 0;
        z-index: 1000;
        overflow-y: auto;
        /* Allow scrolling on the modal container itself */
        background-color: rgba(0, 0, 0, 0.85);
        opacity: 0;
        transition: opacity var(--transition-speed) ease;
    }

    .modal.is-open {
        display: flex;
        /* Use flex to easily center content */
        align-items: center;
        justify-content: center;
        opacity: 1;
    }

    .modal-content {
        background-color: var(--bg-light);
        margin: 3vh auto;
        /* 3% margin top/bottom, auto side */
        padding: 1.875rem 2.5rem;
        /* 30px 40px */
        border-radius: var(--radius);
        width: 95%;
        max-width: 1000px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        position: relative;
        transform: scale(0.95);
        /* Slightly less dramatic scale */
        transition: transform var(--transition-speed) ease, opacity var(--transition-speed) ease;
        opacity: 0;
        max-height: 94vh;
        overflow-y: auto;
        /* Important: content scrolls inside the modal */
    }

    .modal.is-open .modal-content {
        transform: scale(1);
        opacity: 1;
    }

    .modal-content h2 {
        color: var(--brand-primary);
        font-size: 2.2rem;
        margin-top: 0;
        border-bottom: 3px solid var(--brand-accent);
        padding-bottom: 0.625rem;
        /* 10px */
        margin-bottom: 1.5625rem;
        /* 25px */
        font-weight: 700;
    }

    .modal-content .close-btn {
        color: var(--brand-primary);
        position: absolute;
        top: 0.9375rem;
        /* 15px */
        right: 1.5625rem;
        /* 25px */
        font-size: 1.875rem;
        /* 30px */
        font-weight: 300;
        cursor: pointer;
        transition: color 0.2s, transform 0.2s;
        line-height: 1;
        background: transparent;
        border: none;
    }

    .modal-content .close-btn:hover,
    .modal-content .close-btn:focus {
        color: var(--brand-accent);
        transform: rotate(90deg);
        outline: none;
    }

    /* Gallery & Media Styles */
    .modal-media-wrapper {
        margin-bottom: 1.25rem;
        /* 20px */
    }

    .modal-main-image,
    .modal-main-video {
        width: 100%;
        height: auto;
        max-height: 70vh;
        /* Controlled max height */
        object-fit: contain;
        border-radius: var(--radius);
        margin-bottom: 1.25rem;
        border: none;
        transition: opacity 0.15s ease;
        display: block;
    }

    .modal-main-video {
        background-color: black;
    }

    .thumbnail-container {
        display: flex;
        gap: 0.625rem;
        /* 10px */
        overflow-x: auto;
        padding-bottom: 0.625rem;
        margin-bottom: 1.875rem;
        /* 30px */
        justify-content: center;
        -ms-overflow-style: none;
        /* IE and Edge */
        scrollbar-width: none;
        /* Firefox */
    }

    .thumbnail-container::-webkit-scrollbar {
        display: none;
        /* Chrome, Safari, Opera */
    }

    .thumbnail-container img {
        width: 5rem;
        /* 80px */
        height: 3.75rem;
        /* 60px */
        object-fit: cover;
        border-radius: var(--radius);
        cursor: pointer;
        opacity: 0.6;
        transition: all var(--transition-speed);
        border: 2px solid transparent;
        flex-shrink: 0;
    }

    .thumbnail-container img:hover {
        opacity: 0.8;
    }

    .thumbnail-container img.active {
        opacity: 1;
        border-color: var(--brand-accent);
        transform: scale(1.05);
    }

    .modal-info p {
        margin-bottom: 1.25rem;
        font-size: 1.05rem;
        line-height: 1.7;
        text-align: justify;
    }

    .modal-sector {
        font-weight: 700;
        color: var(--brand-accent);
        text-transform: uppercase;
        letter-spacing: 1px;
        display: block;
        margin-bottom: 0.625rem;
        font-size: 0.9rem;
    }

    .modal-info strong {
        color: var(--brand-primary);
    }

    /* ========================================================
FLOATING ACTION BUTTONS
======================================================== */

    /* Back To Top Button */
    #backToTopBtn {
        display: none;
        /* Hidden by default, JS controls display */
        place-content: center;
        position: fixed;
        bottom: 1.5625rem;
        /* 25px */
        right: 1.5625rem;
        z-index: 99;
        width: 3.125rem;
        /* 50px */
        height: 3.125rem;
        background-color: var(--brand-primary);
        color: white;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        outline: none;
        box-shadow: var(--shadow-sm);
        font-size: 1.25rem;
        /* 20px */
        transition: opacity 0.3s, background-color 0.3s, transform 0.3s;
        opacity: 0;
    }

    #backToTopBtn.show {
        display: grid;
        /* Use grid when shown */
        opacity: 1;
    }

    #backToTopBtn:hover {
        background-color: var(--brand-accent);
        transform: translateY(-2px);
    }

    /* Contact Us Button */
    #contactUsBtn {
        position: fixed;
        bottom: 5.625rem;
        /* 90px */
        right: 1.5625rem;
        z-index: 99;
        background-color: var(--brand-primary);
        color: white;
        text-decoration: none;
        padding: 0.75rem 1.125rem;
        /* 12px 18px */
        border-radius: 50px;
        font-weight: 600;
        font-size: 1rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        /* 8px */
        box-shadow: var(--shadow-sm);
        transition: all var(--transition-speed);
        opacity: 0.85;
    }

    #contactUsBtn:hover {
        background-color: var(--brand-accent);
        transform: translateY(-2px) scale(1.05);
        opacity: 1;
        box-shadow: 0 6px 15px rgba(255, 122, 0, 0.4);
    }

    /* ========================================================
RESPONSIVE DESIGN
======================================================== */
    @media (max-width: 768px) {

        /* Base */
        .section-title {
            font-size: 2rem;
        }

        /* Featured Banner */
        .featured-banner {
            height: 15.625rem;
            /* 250px */
            margin-bottom: 1.875rem;
            /* 30px */
        }

        .featured-content {
            padding: 1.25rem;
            /* 20px */
        }

        .featured-content h2 {
            font-size: 1.8rem;
        }

        /* Portfolio */
        .project-grid {
            grid-template-columns: 1fr;
        }

        .project-item img {
            height: 15rem;
            /* Adjust height for smaller screens */
        }

        .project-details {
            min-height: 3.75rem;
            /* 60px */
            padding: 0.9375rem;
            /* 15px */
        }

        .project-details h3 {
            font-size: 1.2rem;
        }

        .portfolio-filters {
            margin-bottom: 1.875rem;
            /* 30px */
        }

        .filter-btn {
            padding: 0.5rem 0.9375rem;
            /* 8px 15px */
            font-size: 0.9rem;
        }

        #projectSearch {
            max-width: 100%;
        }

        /* Navigation (Mobile menu toggle logic needed in JS/HTML) */
        #navbar ul {
            /* This hides the desktop menu on mobile */
            display: none;
        }

        /* Modal */
        .modal-content {
            margin: 0;
            padding: 1.25rem;
            /* 20px */
            width: 100%;
            max-height: 100vh;
            border-radius: 0;
        }

        .modal-content h2 {
            font-size: 1.8rem;
        }

        /* Floating Buttons */
        #backToTopBtn {
            width: 2.8125rem;
            /* 45px */
            height: 2.8125rem;
            bottom: 1.25rem;
            /* 20px */
            right: 1.25rem;
            font-size: 1.125rem;
            /* 18px */
        }

        #contactUsBtn {
            bottom: 4.6875rem;
            /* 75px */
            right: 1.25rem;
            /* 20px */
            padding: 0.625rem 0.9375rem;
            font-size: 0.9rem;
        }
    }

    ;
</style>

</head>

<body>

    <div id="watermark-bg" aria-hidden="true"></div>

    <header>
        <div class="container">
            <div class="topbar">
                <div class="brand">
                    <a href="index.html" class="logo" aria-label="Gabekile Projects Home">G</a>
                    <div class="brand-info">
                        <div class="brand-title">Gabekile Projects</div>
                        <small class="brand-tagline">
                            General Building â€¢ Civil â€¢ Mechanical â€¢ Electrical â€¢ Project Management
                        </small>
                    </div>
                </div>

                <button class="menu-toggle" id="menu-toggle" aria-expanded="false" aria-controls="navbar-menu">
                    <span class="sr-only">Toggle navigation menu</span>
                    <i class="fas fa-bars"></i>
                </button>

                <nav id="navbar" role="navigation">
                    <ul id="navbar-menu">
                        <li><a href="index.html#about">About</a></li>
                        <li><a href="index.html#services">Services</a></li>
                        <!-- <li><a href="#portfolio-section" aria-current="page">Projects</a></li> -->
                        <li><a href="index.html#team">Team</a></li>
                        <li><a href="index.html#affiliation">Affiliations</a></li>
                        <li><a href="index.html#contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <main>
        <section id="portfolio-section">
            <div class="container">
                <h2 class="section-title">Comprehensive Project Portfolio</h2>
                <p class="section-intro">From foundational civil works to advanced mechanical installations, explore our
                    diverse track record of successful projects.</p>

                <div id="featuredProjectBanner" class="featured-banner" data-id="mgt-reno">
                    <div class="featured-content">
                        <span class="featured-tag">FEATURED PROJECT</span>
                        <h2>MGT Headquarter Renovation</h2>
                        <p>A comprehensive structural refurbishment and extension showcasing our full-scope building
                            expertise.</p>
                        <button class="view-details-btn" data-project-id="mgt-reno"
                            aria-label="View details for MGT Headquarter Renovation">
                            View Full Details <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>

                <div class="portfolio-controls">
                    <input type="text" id="projectSearch" placeholder="ðŸ” Search projects (title, sector, timeline...)"
                        aria-label="Search projects">

                    <div class="portfolio-filters" role="group" aria-label="Project Filters">
                        <button class="filter-btn active" data-filter="all" aria-pressed="true">All Sectors</button>
                        <button class="filter-btn" data-filter="civil" aria-pressed="false">Civil Engineering</button>
                        <button class="filter-btn" data-filter="general" aria-pressed="false">General Building</button>
                        <button class="filter-btn" data-filter="mechanical" aria-pressed="false">Mechanical</button>
                        <button class="filter-btn" data-filter="electrical" aria-pressed="false">Electrical</button>
                        <button class="filter-btn" data-filter="residential" aria-pressed="false">Residential</button>
                        <button class="filter-btn" data-filter="infrastructure"
                            aria-pressed="false">Infrastructure</button>
                    </div>
                </div>

                <div class="project-grid" id="project-grid" role="region" aria-live="polite"
                    aria-label="Project results grid">

                    <div class="project-item" data-category="general" data-id="mgt-reno" tabindex="0" role="link">
                        <img src="images/1.jpg" alt="MGT headquarters renovations">
                        <div class="project-details">
                            <h3>MGT Headquarter Renovation</h3>
                            <p class="project-description">MGT headquarters renovation and extension works...</p>
                        </div>
                    </div>

                    <div class="project-item" data-category="civil infrastructure" data-id="mpumalanga-pv" tabindex="0"
                        role="link">
                        <img src="images/Parliamentary/Parliamentary2.JPG" alt="Parliamentary village civil works">
                        <div class="project-details">
                            <h3>Mpumalanga Parliamentary Village</h3>
                            <p class="project-description">Works supervision for the Mpumalanga parliamentary village...
                            </p>
                        </div>
                    </div>

                    <div class="project-item" data-category="general" data-id="mapulaneng-hospital" tabindex="0"
                        role="link">
                        <img src="images/Mapulaneng/Mapulaneng1.jpg" alt="Hospital construction site">
                        <div class="project-details">
                            <h3>New Mapulaneng Hospital Supervision</h3>
                            <p class="project-description">Supervision of New Mapulaneng Hospital works...</p>
                        </div>
                    </div>

                    <div class="project-item" data-category="general residential" data-id="tanzania-res" tabindex="0"
                        role="link">
                        <img src="images/Tanzania/Tanzania1.jpg" alt="Residential construction in Tanzania">
                        <div class="project-details">
                            <h3>Tanzania Residential Projects</h3>
                            <p class="project-description">Residential project management and construction works...</p>
                        </div>
                    </div>

                    <div class="project-item" data-category="mechanical" data-id="jma-steel" tabindex="0" role="link">
                        <img src="images/JMA/JMA1.jpg" alt="Structural steel in factory">
                        <div class="project-details">
                            <h3>JMA Structural Steel Works</h3>
                            <p class="project-description">Structural steel fabrication and installation works...</p>
                        </div>
                    </div>

                    <div class="project-item" data-category="electrical infrastructure" data-id="mccain-foods"
                        tabindex="0" role="link">
                        <img src="images/Mcain/Mcain1.jpg" alt="Factory electrical works">
                        <div class="project-details">
                            <h3>McCain Foods Works Supervision</h3>
                            <p class="project-description">Works supervision and shutdown construction works...</p>
                        </div>
                    </div>

                    <div class="project-item" data-category="residential general" data-id="nyambi-residence"
                        tabindex="0" role="link">
                        <img src="images/Nyambi/Nyambi1.jpg" alt="Nyambi Residence completed exterior">
                        <div class="project-details">
                            <h3>Nyambi Residence</h3>
                            <p class="project-description">Complete construction of a private luxury residence...</p>
                        </div>
                    </div>

                    <div class="project-item" data-category="residential general" data-id="mbatsane-residence"
                        tabindex="0" role="link">
                        <img src="images/Mbatsane/Mbatsane1.jpg" alt="Mbatsane Residence exterior">
                        <div class="project-details">
                            <h3>Mbatsane Residence</h3>
                            <p class="project-description">Residential renovation and extension project...</p>
                        </div>
                    </div>

                    <div class="project-item" data-category="civil infrastructure" data-id="brt-wonderboom" tabindex="0"
                        role="link">
                        <img src="images/electrical.jpg" alt="BRT Wonderboom infrastructure works">
                        <div class="project-details">
                            <h3>BRT Wonderboom Supervision</h3>
                            <p class="project-description">Supervision of the Bus Rapid Transit infrastructure works...
                            </p>
                        </div>
                    </div>

                    <div class="project-item" data-category="general infrastructure" data-id="zenzele-guest-house"
                        tabindex="0" role="link">
                        <img src="images/Zenzele/Zenzele1.jpg" alt="Zenzele Guest House exterior">
                        <div class="project-details">
                            <h3>Zenzele Guest house</h3>
                            <p class="project-description">Large-scale water treatment facility upgrade...</p>
                        </div>
                    </div>

                    <div class="project-item" data-category="residential" data-id="kamau-residence" tabindex="0"
                        role="link">
                        <img src="images/Kamau/Kamau1.jpg" alt="Kamau residence exterior">
                        <div class="project-details">
                            <h3>Kamau Residence</h3>
                            <p class="project-description">Residential project management and construction works...</p>
                        </div>
                    </div>

                    <div class="project-item" data-category="residential" data-id="masher-residence" tabindex="0"
                        role="link">
                        <img src="images/Masher/Masher1.jpg" alt="Masher Residence rendering">
                        <div class="project-details">
                            <h3>Masher Residence</h3>
                            <p class="project-description">A luxury residential development entering the planning
                                stage...</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <div id="projectModal" class="modal" role="dialog" aria-modal="true" aria-hidden="true"
        aria-labelledby="modalTitle">
        <div class="modal-content">
            <button class="close-btn" tabindex="0" type="button" aria-label="Close Project Details">
                <i class="fas fa-times"></i>
            </button>

            <div id="modalGallery" class="modal-gallery-container">
                <img id="modalMainImage" class="modal-main-image" src="" alt="Project main image"
                    style="display: none;">
                <video id="modalMainVideo" class="modal-main-video" controls autoplay muted loop playsinline
                    style="display: none;"></video>

                <div id="thumbnailContainer" class="thumbnail-container">
                </div>
            </div>

            <div class="modal-info">
                <span id="modalSector" class="modal-sector"></span>
                <h2 id="modalTitle"></h2>
                <p id="modalDescription"></p>
                <p><strong>Timeline:</strong> <span id="modalTimeline"></span></p>
            </div>
        </div>
    </div>

    <button id="backToTopBtn" title="Go to top" aria-label="Back to top">
        <i class="fas fa-chevron-up"></i>
    </button>

    <a id="contactUsBtn" href="index.html#contact" title="Contact Us for a Quote">
        <i class="fas fa-headset"></i> Contact Us
    </a>

    <footer role="contentinfo"
        style="background: var(--brand-primary); color: white; text-align: center; padding: 1.25rem 0; font-size: 0.9em;">
        <div class="container">
            &copy; <span id="currentYear">2025</span> Gabekile Projects. All Rights Reserved.
        </div>
    </footer>

</body>

<script>
    // ========================================================
    // 1. PROJECT DATA STORAGE (for Modal)
    // ========================================================
    const projectData = {
        'mgt-reno': {
            title: "MGT Headquarter Renovation",
            sector: "General Building",
            timeline: "Mar 2023 - Dec 2024",
            images: [
                { src: "images/1.jpg", alt: "MGT Renovation - Final Completion (After)" },
                { src: "images/2.jpg", alt: "MGT Renovation - Mid-Phase Construction" },
                { src: "images/3.jpg", alt: "MGT Renovation - Phase 1 Initial Work (Before)" }
            ],
            description: "This comprehensive project involved the renovation and extension of the MGT headquarters. Key deliverables included structural refurbishments, high-quality interior and exterior finishes, and intricate site coordination to ensure minimal disruption to ongoing operations. The project was completed on schedule and met all modern building standards."
        },
        'mpumalanga-pv': {
            title: "Mpumalanga Parliamentary Village",
            sector: "Civil Engineering",
            timeline: "Jan 2024 - Current",
            images: [
                { src: "images/Parliamentary/Parliamentary1.JPG", alt: "Parliamentary Village - Current Progress" },
                { src: "images/Parliamentary/parliamentary2.jpg", alt: "Parliamentary Village - Foundations" }
            ],
            description: "Our role involves works supervision for the Mpumalanga parliamentary village. This includes overseeing all civil and general building works, ensuring strict adherence to the project schedule, quality control standards, and regulatory compliance. We act as the client's representative on site."
        },
        'mapulaneng-hospital': {
            title: "New Mapulaneng Hospital Supervision",
            sector: "General Building",
            timeline: "Sep 2022 - Current",
            images: [
                { src: "images/Mapulaneng/Mapulaneng1.jpg", alt: "Hospital Construction Site - Current View" },
                { src: "images/Mapulaneng/Mapulaneng2.jpg", alt: "Hospital Initial Excavation" },
                { src: "images/Mapulaneng/Mapulaneng3.jpg", alt: "Hospital Initial Excavation" },
                { src: "images/Mapulaneng/Mapulaneng4.jpg", alt: "Hospital Initial Excavation" }

            ],
            description: "We are providing crucial supervision services for the construction of the New Mapulaneng Hospital. Our responsibilities cover coordination between various contractors, rigorous quality control checks at every stage, and timely snag attendance to ensure the facility meets the highest standards before handover."
        },
        'tanzania-res': {
            title: "Tanzania Residential Projects",
            sector: "Residential / General Building",
            timeline: "Jan 2021 - Dec 2023",
            images: [
                { src: "images/Tanzania/Tanzania1.jpg", alt: "Residential Construction - Completed" },
                { src: "images/Tanzania/Tanzania2.jpg", alt: "Residential Construction" },
                { src: "images/Tanzania/Tanzania3.jpg", alt: "Residential Construction" },
                { src: "images/Tanzania/Tanzania4.jpg", alt: "Residential Construction" },
                { src: "images/Tanzania/Tanzania5.jpg", alt: "Residential Construction" },
                { src: "images/Tanzania/Tanzania6.jpg", alt: "Residential Construction" }
            ],
            description: "A series of residential project management and construction works carried out across various sites in Tanzania. Our scope covered the entire lifecycle, from initial planning and procurement through structural construction, finishes, and final completion and client handover."
        },
        'jma-steel': {
            title: "JMA Structural Steel Works",
            sector: "Mechanical",
            timeline: "Feb 2025 - Jun 2025",
            images: [
                { src: "images/JMA/JMA1.jpg", alt: "Structural Steel - Erection Complete" },
                { src: "images/JMA/JMA2.jpg", alt: "Structural Steel" },
                { src: "images/JMA/JMA3.jpg", alt: "Structural Steel" },
                { src: "images/JMA/JMA4.jpg", alt: "Structural Steel" },
                { src: "images/JMA/JMA5.jpg", alt: "Structural Steel" },
                { src: "images/JMA/JMA6.jpg", alt: "Structural Steel" },
                { src: "images/JMA/JMA7.jpg", alt: "Structural Steel" },
                { src: "images/JMA/JMA8.jpg", alt: "Structural Steel" },
                { src: "images/JMA/JMA9.jpg", alt: "Structural Steel" },
                { src: "images/JMA/JMA10.jpg", alt: "Structural Steel" },
                { src: "images/JMA/JMA11.jpg", alt: "Structural Steel" },
            ],
            description: "Execution of structural steel fabrication and installation works for key JMA industrial projects. This mechanical scope involved detailed engineering, precision fabrication off-site, and safe, efficient erection on-site, ensuring structural integrity and compliance with design specifications."
        },
        'mccain-foods': {
            title: "McCain Foods Works Supervision",
            sector: "Electrical",
            timeline: "Jul 2025 - Current",
            images: [
                { src: "images/MCain/Mcain1.jpg", alt: "Factory Electrical Panel Upgrade" },
                { src: "images/MCain/Mcain2.jpg", alt: "Factory Electrical Panel Upgrade" },
                { src: "images/MCain/Mcain3.jpg", alt: "Factory Electrical Panel Upgrade" },
                { src: "images/MCain/Mcain4.jpg", alt: "Factory Electrical Panel Upgrade" },
                { src: "images/MCain/Mcain5.jpg", alt: "Factory Electrical Panel Upgrade" },
                { src: "images/MCain/Mcain6.jpg", alt: "Factory Electrical Panel Upgrade" },
                { src: "images/MCain/Mcain7.jpg", alt: "Factory Electrical Panel Upgrade" },
                { src: "images/MCain/Mcain8.jpg", alt: "Factory Electrical Panel Upgrade" },
            ],
            description: "Provision of works supervision services, specializing in electrical and shutdown construction works for McCain Foods (South Africa). Our focus is on managing high-risk shutdown logistics, ensuring safety, and coordinating electrical contractors to minimize downtime."
        },
        'nyambi-residence': {
            title: "Nyambi Residence",
            sector: "Residential / General Building",
            timeline: "Feb 2019 â€“ Jun 2020",
            images: [
                { src: "images/Nyambi/Nyambi1.jpg", alt: "Nyambi Residence - Completed Renovation" },
                { src: "images/Nyambi/Nyambi2.jpg", alt: "Nyambi Residence" },
                { src: "images/Nyambi/Nyambi3.jpg", alt: "Nyambi Residence" },
                { src: "images/Nyambi/Nyambi4.jpg", alt: "Nyambi Residence" },
                { src: "images/Nyambi/Nyambi5.jpg", alt: "Nyambi Residence" }
            ],
            description: "Complete construction of a private luxury residence. We handled the entire project, from pouring the foundation and managing all sub-contractors to ensuring final finishes and client handover, demonstrating robust project management."
        },
        'mbatsane-residence': {
            title: "Mbatsane Residence",
            sector: "Residential / General Building",
            timeline: "Feb 2021 â€“ Apr 2022",
            images: [
                { src: "images/Mbatsane/Mbatsane1.jpg", alt: "Mbatsane Residence - Completed Renovation" },
                { src: "images/Mbatsane/Mbatsane2.jpg", alt: "Mbatsane Residence" },
                { src: "images/Mbatsane/Mbatsane3.jpg", alt: "Mbatsane Residence" },
                { src: "images/Mbatsane/Mbatsane4.jpg", alt: "Mbatsane Residence" },
            ],
            description: "A significant residential renovation and extension project. The focus included structural upgrades, aesthetic modernization of the existing dwelling, and seamless integration of the new extension to meet the client's expanded living requirements."
        },
        'brt-wonderboom': {
            title: "BRT Wonderboom Supervision",
            sector: "Civil / Infrastructure",
            timeline: "Apr 2021 â€“ Aug 2022",
            images: [
                { src: "images/electrical.jpg", alt: "BRT Wonderboom - Station Progress" }
            ],
            description: "Supervision and quality assurance for the Bus Rapid Transit (BRT) infrastructure works at the Wonderboom station. This involved monitoring civil works, ensuring adherence to public transport quality standards, and overall site compliance."
        },
        'zenzele-guest-house': { // Standardized ID to be hyphenated for consistency
            title: "Zenzele Guest house",
            sector: "Infrastructure",
            timeline: "Planning Stage",
            images: [
                { src: "images/Zenzele/Zenzele1.jpg", alt: "Zenzele Guest House - Conceptual Design" },
                { src: "images/Zenzele/Zenzele2.mp4", alt: "Zenzele Guest House (Video)" }
            ],
            description: "Currently in the planning and tender stage, this project is a large-scale water treatment facility upgrade designed to significantly boost capacity and support the regional population's growth and environmental needs. It represents a critical infrastructure investment."
        },
        'kamau-residence': { // Standardized ID
            title: "Kamau Residence",
            sector: "Residential / General Building",
            timeline: "Planning Stage",
            images: [
                { src: "images/Kamau/Kamau1.jpg", alt: "Kamau residence - Conceptual Design" },
                { src: "images/Kamau/Kamau2.jpg", alt: "Kamau residence" },
                { src: "images/Kamau/Kamau3.jpg", alt: "Kamau residence" },
                { src: "images/Kamau/Kamau4.jpg", alt: "Kamau residence" },
                { src: "images/Kamau/Kamau5.jpg", alt: "Kamau residence" },
                { src: "images/Kamau/Kamau6.jpg", alt: "Kamau residence" },
                { src: "images/Kamau/Kamau7.jpg", alt: "Kamau residence" },



            ],
            description: "This is a proposed high-end residential project currently in the planning phase, involving comprehensive design and preliminary civil works. The focus is on a sustainable and modern family dwelling."
        },
        'masher-residence': { // Standardized ID
            title: "Masher Residence",
            sector: "Residential / General Building",
            timeline: "Planning Stage",
            images: [
                { src: "images/Masher/Masher1.jpg", alt: "Masher residence - Conceptual Design" },
                { src: "images/Masher/Masher2.jpg", alt: "Masher residence" },
                { src: "images/Masher/Masher3.jpg", alt: "Masher residence" },
                { src: "images/Masher/Masher4.jpg", alt: "Masher residence" },
                { src: "images/Masher/Masher5.jpg", alt: "Masher residence" },
                { src: "images/Masher/Masher6.jpg", alt: "Masher residence" },


            ],
            description: "A luxury residential development entering the planning stage. The scope includes full construction management, integrating civil and general building expertise for a bespoke, client-driven design."
        }
    };

    // Update HTML Project IDs to match the standardized JS keys for Masher, Kamau, and Zenzele (Guest House)
    // 'guest house' -> 'zenzele-guest-house'
    // 'Kamau residence' -> 'kamau-residence'
    // 'Masher Residence' -> 'masher-residence'


    // ========================================================
    // 2. CORE LOGIC
    // ========================================================
    document.addEventListener('DOMContentLoaded', () => {
        // --- Element Queries ---
        const filterButtons = document.querySelectorAll('.filter-btn');
        const projectItems = document.querySelectorAll('.project-item');
        const projectSearch = document.getElementById('projectSearch');
        const featuredDetailsBtn = document.querySelector('.featured-banner .view-details-btn');
        const featuredProjectId = featuredDetailsBtn?.getAttribute('data-project-id');

        // Modal elements
        const modal = document.getElementById('projectModal');
        const closeBtn = document.querySelector('.close-btn');
        const modalTitle = document.getElementById('modalTitle');
        const modalSector = document.getElementById('modalSector');
        const modalTimeline = document.getElementById('modalTimeline');
        const modalDescription = document.getElementById('modalDescription');
        const thumbnailContainer = document.getElementById('thumbnailContainer');
        const modalMainImage = document.getElementById('modalMainImage');
        const modalMainVideo = document.getElementById('modalMainVideo'); // New video element

        // Navigation & Global elements
        const body = document.body;
        const header = document.querySelector('header');
        const menuToggle = document.getElementById('menu-toggle');
        const navbar = document.getElementById('navbar');
        const backToTopBtn = document.getElementById('backToTopBtn');
        const SCROLL_THRESHOLD = 300;


        // Apply base transition style for filtering
        projectItems.forEach(item => {
            item.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
        });

        // --- Utility Functions ---

        /**
         * Standard throttle implementation to limit function calls.
         * @param {function} func The function to throttle.
         * @param {number} limit The time limit in milliseconds.
         */
        const throttle = (func, limit) => {
            let lastRan;
            let lastTimer;
            return function () {
                const context = this;
                const args = arguments;
                if (!lastRan) {
                    func.apply(context, args);
                    lastRan = Date.now();
                } else {
                    clearTimeout(lastTimer);
                    lastTimer = setTimeout(() => {
                        if ((Date.now() - lastRan) >= limit) {
                            func.apply(context, args);
                            lastRan = Date.now();
                        }
                    }, limit - (Date.now() - lastRan));
                }
            };
        };

        // --- Modal Functions ---

        /**
         * Displays the currently selected main media (Image or Video)
         * by toggling the display property of the main elements.
         * @param {object} media - The media object { src, alt }.
         */
        const displayMainMedia = (media) => {
            const isVideo = media.src.endsWith('.mp4');

            modalMainImage.style.display = isVideo ? 'none' : 'block';
            modalMainVideo.style.display = isVideo ? 'block' : 'none';

            if (isVideo) {
                modalMainVideo.src = media.src;
                modalMainVideo.load(); // Ensure video loads immediately
                modalMainVideo.play().catch(e => console.log('Video autoplay blocked:', e)); // Handle autoplay policies
            } else {
                modalMainImage.src = media.src;
                if (modalMainVideo.pause) modalMainVideo.pause(); // Pause video if switching to image
            }
        };

        /**
         * Renders the project media gallery and thumbnails.
         * @param {Array<object>} images - Array of media objects.
         */
        const renderGallery = (images = []) => {
            thumbnailContainer.innerHTML = '';

            // 1. Display the first item immediately
            if (images.length > 0) {
                displayMainMedia(images[0]);
            }

            // 2. Thumbnail Generation Logic
            images.forEach((media, index) => {
                const isVideo = media.src.endsWith('.mp4');
                const thumbnail = document.createElement(isVideo ? 'button' : 'img');

                thumbnail.classList.add('thumbnail');
                thumbnail.setAttribute('aria-label', `View ${media.alt}`);

                if (isVideo) {
                    // Video thumbnail placeholder (using the button element)
                    thumbnail.innerHTML = `<i class="fas fa-video"></i> Video`;
                    thumbnail.style.cssText = 'display: flex; flex-direction: column; justify-content: center; align-items: center; background-color: #333; color: white; font-size: 10px; height: 60px; width: 80px; border: none;';
                } else {
                    // Image thumbnail
                    thumbnail.src = media.src;
                    thumbnail.alt = media.alt;
                }

                if (index === 0) {
                    thumbnail.classList.add('active');
                }

                thumbnail.addEventListener('click', () => {
                    // Display the newly selected media
                    displayMainMedia(media);

                    // Update active state
                    document.querySelectorAll('.thumbnail-container > *').forEach(t => t.classList.remove('active'));
                    thumbnail.classList.add('active');
                });

                thumbnailContainer.appendChild(thumbnail);
            });
        };

        const openModal = (projectId) => {
            const data = projectData[projectId];
            if (!data) return;

            // Destructure data for cleaner access
            const { title, sector, timeline, description, images } = data;

            modalTitle.textContent = title;
            modalSector.textContent = sector;
            modalTimeline.textContent = timeline;
            modalDescription.textContent = description;
            renderGallery(images);

            modal.classList.add('is-open');
            body.classList.add('no-scroll');

            closeBtn.focus();
            window.location.hash = `project=${projectId}`;
        };

        const closeModal = () => {
            modal.classList.remove('is-open');
            body.classList.remove('no-scroll');

            // Pause the video if open
            if (modalMainVideo.pause) modalMainVideo.pause();

            // Clear only the project hash on closing
            const currentHash = window.location.hash.substring(1);
            const newHash = currentHash.split('&').filter(h => !h.startsWith('project=')).join('&');

            if (newHash) {
                window.location.hash = newHash;
            } else if (currentHash.includes('project=')) {
                history.pushState("", document.title, window.location.pathname + window.location.search);
            }
        };

        // --- Filtering and Search Functions ---

        /**
         * Filters the project grid based on category and search term.
         * @param {string} newFilter - The category filter to apply.
         */
        const applyFilter = (newFilter) => {
            const searchTerm = projectSearch.value.toLowerCase().trim();
            let currentFilter = newFilter || document.querySelector('.filter-btn.active')?.getAttribute('data-filter') || 'all';

            // Update button active state and ARIA
            filterButtons.forEach(btn => {
                const filter = btn.getAttribute('data-filter');
                const isActive = filter === currentFilter;
                btn.classList.toggle('active', isActive);
                btn.setAttribute('aria-pressed', isActive);
            });

            // Filter items logic
            projectItems.forEach(item => {
                const categories = item.getAttribute('data-category').toLowerCase().split(/\s+/);
                const projectId = item.getAttribute('data-id');
                const itemData = projectData[projectId];

                if (!itemData) {
                    item.style.display = 'none';
                    return;
                }

                // Comprehensive searchable text
                const itemText = (itemData.title + ' ' + itemData.sector + ' ' + itemData.timeline + ' ' + itemData.description + ' ' + categories.join(' ')).toLowerCase();

                const matchesFilter = currentFilter === 'all' || categories.includes(currentFilter);
                const matchesSearch = !searchTerm || itemText.includes(searchTerm);

                const matches = matchesFilter && matchesSearch;

                if (matches) {
                    item.style.display = 'block';
                    // Animation for visibility
                    setTimeout(() => {
                        item.style.opacity = '1';
                        item.style.transform = 'scale(1)';
                    }, 50);
                } else {
                    // Animation for hiding
                    item.style.opacity = '0';
                    item.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        item.style.display = 'none';
                    }, 300);
                }
            });

            // Update hash for shareability
            const currentHash = window.location.hash.substring(1);
            const otherParams = currentHash.split('&').filter(h => !h.startsWith('filter=') && h.length > 1).join('&');

            let newHash = otherParams;
            if (currentFilter !== 'all') {
                newHash = (otherParams ? otherParams + '&' : '') + `filter=${currentFilter}`;
            }

            if (newHash) {
                window.location.hash = newHash;
            } else {
                history.pushState("", document.title, window.location.pathname + window.location.search);
            }
        };

        // --- Event Handlers ---

        // Scroll Logic (Header shrink & Back to Top visibility)
        const handleScroll = () => {
            const scrollY = window.scrollY || document.documentElement.scrollTop;

            header.classList.toggle('scrolled', scrollY > 50);
            backToTopBtn.classList.toggle('show', scrollY > SCROLL_THRESHOLD);
        };
        window.addEventListener('scroll', throttle(handleScroll, 100));
        handleScroll(); // Run on load

        // Mobile Menu Toggle
        menuToggle.addEventListener('click', () => {
            const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';

            navbar.classList.toggle('is-open');
            body.classList.toggle('no-scroll');
            menuToggle.setAttribute('aria-expanded', String(!isExpanded));
        });

        // Filter Logic
        filterButtons.forEach(button => {
            button.addEventListener('click', function () {
                applyFilter(this.getAttribute('data-filter'));
            });
        });

        // Live Search Logic
        projectSearch.addEventListener('input', () => applyFilter());

        // Modal Open Logic
        projectItems.forEach(item => {
            item.addEventListener('click', function () {
                const projectId = this.getAttribute('data-id');
                openModal(projectId);
            });
        });

        // Featured Banner Click
        if (featuredDetailsBtn && featuredProjectId) {
            featuredDetailsBtn.addEventListener('click', () => openModal(featuredProjectId));
        }

        // Modal Close Events
        closeBtn.addEventListener('click', closeModal);
        closeBtn.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                closeModal();
                e.preventDefault();
            }
        });
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                closeModal();
            }
        });
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && modal.classList.contains('is-open')) {
                closeModal();
            }
        });

        // Back to Top Button
        backToTopBtn.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Close mobile menu when a nav link is clicked (UX improvement)
        navbar.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                if (navbar.classList.contains('is-open')) {
                    navbar.classList.remove('is-open');
                    body.classList.remove('no-scroll');
                    menuToggle.setAttribute('aria-expanded', 'false');
                }
            });
        });


        // --- URL Hash Handler ---
        const handleHash = () => {
            const hash = window.location.hash.substring(1);
            // Use URLSearchParams for robust parsing
            const params = new URLSearchParams(hash.replace(/&/g, '&').replace(/=/g, '='));

            const projectId = params.get('project');
            const filterValue = params.get('filter');

            // Handle Project Modal State
            if (projectId && projectData.hasOwnProperty(projectId)) {
                openModal(projectId);
            } else if (modal.classList.contains('is-open')) {
                closeModal();
            }

            // Handle Filter State
            if (filterValue) {
                applyFilter(filterValue);
            } else {
                // Ensure 'all' is active if no filter is specified in the URL
                const activeFilterButton = document.querySelector('.filter-btn.active')?.getAttribute('data-filter');
                if (activeFilterButton !== 'all') {
                    applyFilter('all');
                }
            }
        };

        window.addEventListener('hashchange', handleHash);
        handleHash(); // Run once on load to check the initial URL
    });

</script>
</body>

</html>
